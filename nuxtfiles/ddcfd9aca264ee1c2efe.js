(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{243:function(t,e,n){"use strict";var r={name:"Icon",props:{color:{type:String,default:"white"},name:String}},o=n(12),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",["back"===t.name?[n("svg",{staticStyle:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-miterlimit":"10"},attrs:{width:"100%",height:"100%",viewBox:"0 0 300 300",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve","xmlns:serif":"http://www.serif.com/"}},[n("g",{attrs:{id:"Ebene_2"}},[n("path",{staticStyle:{fill:"none","fill-rule":"nonzero","stroke-width":"8px"},attrs:{stroke:t.color,d:"M107,96M107,96M107,96M107,96M107,95L107,96M107,138L107,173.695L27,116.196L107,58.695L107,95M107,137M107,137M107,132M107,124M109.25,92.088C109.25,92.088 363.808,60.166 236.22,242.305M104.309,142.08C104.309,142.08 288.684,121.615 235.913,241.305"}})])])]:"send"===t.name?[n("svg",{attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"100%",height:"100%",viewBox:"0 0 300 300","enable-background":"new 0 0 300 300","xml:space":"preserve"}},[n("g",{attrs:{id:"Ebene_2"}},[n("polygon",{attrs:{stroke:t.color,fill:"none","stroke-width":"8","stroke-miterlimit":"10",points:"150.001,81.259 40.709,117.04\n\t\t110.285,174.656 206.073,100.554 136.863,196.666 206.726,254.523 233.008,150 259.291,45.477 \t"}})])])]:"inventory"===t.name?[n("svg",{staticStyle:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-miterlimit":"10"},attrs:{width:"100%",height:"100%",viewBox:"0 0 400 400",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve","xmlns:serif":"http://www.serif.com/"}},[n("g",{style:{stroke:t.color},attrs:{id:"Ebene_2"}},[n("path",{staticStyle:{fill:"none","fill-rule":"nonzero","stroke-width":"10px"},attrs:{d:"M325,310C325,332 307,350 285,350L115,350C93,350 75,332 75,310L75,90C75,68 93,50 115,50L285,50C307,50 325,68 325,90L325,310Z"}}),t._v(" "),n("path",{staticStyle:{fill:"none","fill-rule":"nonzero","stroke-width":"8px"},attrs:{d:"M290,296C290,307 281,316 270,316L130,316C119,316 110,307 110,296L110,235C110,224 119,215 130,215L270,215C281,215 290,224 290,235L290,296Z"}}),t._v(" "),n("path",{staticStyle:{fill:"none","fill-rule":"nonzero","stroke-width":"8px"},attrs:{d:"M110,251L290,251"}}),t._v(" "),n("path",{staticStyle:{fill:"none","fill-rule":"nonzero","stroke-width":"10px"},attrs:{d:"M325,94C325,117.65 302.5,137 275,137L125,137C97.5,137 75,117.65 75,94C75,70.35 97.5,51 125,51L275,51C302.5,51 325,70.35 325,94Z"}}),t._v(" "),n("rect",{staticStyle:{fill:"none","stroke-width":"5px"},attrs:{x:"143.5",y:"50.5",width:"13",height:"136"}}),t._v(" "),n("rect",{staticStyle:{fill:"none","stroke-width":"5px"},attrs:{x:"243.5",y:"50.5",width:"13",height:"136"}})])])]:"newMessage"===t.name?[n("svg",{staticStyle:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-miterlimit":"10"},attrs:{width:"100%",height:"100%",viewBox:"0 0 300 300",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve","xmlns:serif":"http://www.serif.com/"}},[n("g",[n("path",{staticStyle:{fill:"none","fill-rule":"nonzero","stroke-width":"10px"},style:{stroke:t.color},attrs:{d:"M254,131L254,220C254,233.75 242.721,245 228.971,245L32.983,245C19.233,245 8,233.75 8,220L8,120.275C8,106.525 19.233,95 32.983,95L218,95"}}),t._v(" "),n("path",{staticStyle:{fill:"none","fill-rule":"nonzero","stroke-width":"9px"},style:{stroke:t.color},attrs:{d:"M7,136.552L131.96,170.138"}}),t._v(" "),n("path",{staticStyle:{fill:"none","fill-rule":"nonzero","stroke-width":"9px"},style:{stroke:t.color},attrs:{d:"M254.952,136.718L129.992,170.138"}}),t._v(" "),n("path",{staticStyle:{fill:"indianred"},attrs:{d:"M259.804,105L247.153,105L243.145,67L263.807,67L259.804,105Z"}}),t._v(" "),n("ellipse",{staticStyle:{fill:"none","stroke-width":"9px",stroke:"indianred"},attrs:{cx:"253.314",cy:"95.259",rx:"39.686",ry:"40.259"}}),t._v(" "),n("rect",{staticStyle:{fill:"indianred"},attrs:{x:"247",y:"110",width:"13",height:"13"}})])])]:"message"===t.name?[n("svg",{staticStyle:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-miterlimit":"10"},attrs:{width:"100%",height:"100%",viewBox:"0 0 300 300",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve","xmlns:serif":"http://www.serif.com/"}},[n("g",{style:{stroke:t.color}},[n("path",{staticStyle:{fill:"none","fill-rule":"nonzero","stroke-width":"10px"},attrs:{d:"M252,116L263.5,116C269.825,116 275,122.05 275,129.75L275,236.75C275,244.45 268.7,251 261,251L39,251C31.3,251 25,244.45 25,236.75L25,129.75C25,122.05 29.95,116 36,116L47,116"}}),t._v(" "),n("path",{staticStyle:{fill:"none","fill-rule":"nonzero","stroke-width":"10px"},attrs:{d:"M252,157L252,74.25C252,60.5 241.25,49 227.5,49L72.5,49C58.75,49 47,60.5 47,74.25L47,156"}}),t._v(" "),n("path",{staticStyle:{fill:"none","fill-rule":"nonzero","stroke-width":"9px"},attrs:{d:"M276,149.769L149,183.25"}}),t._v(" "),n("path",{staticStyle:{fill:"none","fill-rule":"nonzero","stroke-width":"9px"},attrs:{d:"M24,149.603L151,183.25"}}),t._v(" "),n("path",{staticStyle:{"fill-rule":"nonzero"},attrs:{d:"M220,122C220,123.65 218.2,125 216,125L84,125C81.8,125 80,123.65 80,122C80,120.35 81.8,119 84,119L216,119C218.2,119 220,120.35 220,122Z"}}),t._v(" "),n("path",{staticStyle:{fill:"none","fill-rule":"nonzero","stroke-width":"4px"},attrs:{d:"M220,122C220,123.65 218.2,125 216,125L84,125C81.8,125 80,123.65 80,122C80,120.35 81.8,119 84,119L216,119C218.2,119 220,120.35 220,122Z"}}),t._v(" "),n("path",{staticStyle:{"fill-rule":"nonzero"},attrs:{d:"M220,86C220,87.65 218.2,89 216,89L84,89C81.8,89 80,87.65 80,86C80,84.35 81.8,83 84,83L216,83C218.2,83 220,84.35 220,86Z"}}),t._v(" "),n("path",{staticStyle:{fill:"none","fill-rule":"nonzero","stroke-width":"4px"},attrs:{d:"M220,86C220,87.65 218.2,89 216,89L84,89C81.8,89 80,87.65 80,86C80,84.35 81.8,83 84,83L216,83C218.2,83 220,84.35 220,86Z"}})])])]:t._e()],2)}),[],!1,null,"f5b1589c",null);e.a=component.exports},378:function(t,e,n){t.exports=n.p+"img/d0340c7.png"},379:function(t,e,n){t.exports=n.p+"img/5234631.png"},380:function(t,e,n){t.exports=n.p+"img/b470546.png"},381:function(t,e,n){t.exports=n.p+"img/6f5a217.png"},382:function(t,e,n){t.exports=n.p+"img/6f63a0f.png"},383:function(t,e,n){t.exports=n.p+"img/dbdc164.png"},384:function(t,e,n){t.exports=n.p+"img/214861c.png"},399:function(t,e,n){t.exports=n.p+"img/a7112d9.png"},400:function(t,e,n){t.exports=n.p+"img/7b0f79e.png"},401:function(t,e,n){t.exports=n.p+"img/3a341a8.png"},402:function(t,e,n){t.exports=n.p+"img/d14bed6.png"},403:function(t,e,n){t.exports=n.p+"img/0991779.png"},404:function(t,e,n){t.exports=n.p+"img/63b0e12.png"},405:function(t,e,n){t.exports=n.p+"img/a4e43a3.png"},417:function(t,e,n){var content=n(513);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(17).default)("2489cc6c",content,!0,{sourceMap:!1})},418:function(t,e,n){var content=n(515);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(17).default)("6aeac9d8",content,!0,{sourceMap:!1})},507:function(t,e,n){"use strict";var r=n(6),o=n(28),l=n(33),c=n(94),h=n(70),f=n(13),d=n(48).f,w=n(72).f,m=n(14).f,v=n(508).trim,x=r.Number,k=x,y=x.prototype,L="Number"==l(n(71)(y)),C="trim"in String.prototype,M=function(t){var e=h(t,!1);if("string"==typeof e&&e.length>2){var n,r,o,l=(e=C?e.trim():v(e,3)).charCodeAt(0);if(43===l||45===l){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===l){switch(e.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+e}for(var code,c=e.slice(2),i=0,f=c.length;i<f;i++)if((code=c.charCodeAt(i))<48||code>o)return NaN;return parseInt(c,r)}}return+e};if(!x(" 0o1")||!x("0b1")||x("+0x1")){x=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof x&&(L?f((function(){y.valueOf.call(n)})):"Number"!=l(n))?c(new k(M(e)),n,x):M(e)};for(var _,S=n(9)?d(k):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),O=0;S.length>O;O++)o(k,_=S[O])&&!o(x,_)&&m(x,_,w(k,_));x.prototype=y,y.constructor=x,n(15)(r,"Number",x)}},508:function(t,e,n){var r=n(8),o=n(27),l=n(13),c=n(509),h="["+c+"]",f=RegExp("^"+h+h+"*"),d=RegExp(h+h+"*$"),w=function(t,e,n){var o={},h=l((function(){return!!c[t]()||"​"!="​"[t]()})),f=o[t]=h?e(m):c[t];n&&(o[n]=f),r(r.P+r.F*h,"String",o)},m=w.trim=function(t,e){return t=String(o(t)),1&e&&(t=t.replace(f,"")),2&e&&(t=t.replace(d,"")),t};t.exports=w},509:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},510:function(t,e,n){var map={"./aicherBW.png":378,"./berblingerBW.png":379,"./einsteinBW.png":380,"./ensingerBW.png":381,"./hollBW.png":382,"./schwanenwirtinBW.png":383,"./streicherBW.png":384};function r(t){var e=o(t);return n(e)}function o(t){if(!n.o(map,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return map[t]}r.keys=function(){return Object.keys(map)},r.resolve=o,t.exports=r,r.id=510},511:function(t,e,n){var map={"./aicher.png":399,"./aicherBW.png":378,"./berblinger.png":400,"./berblingerBW.png":379,"./einstein.png":401,"./einsteinBW.png":380,"./ensinger.png":402,"./ensingerBW.png":381,"./holl.png":403,"./hollBW.png":382,"./schwanenwirtin.png":404,"./schwanenwirtinBW.png":383,"./streicher.png":405,"./streicherBW.png":384};function r(t){var e=o(t);return n(e)}function o(t){if(!n.o(map,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return map[t]}r.keys=function(){return Object.keys(map)},r.resolve=o,t.exports=r,r.id=511},512:function(t,e,n){"use strict";var r=n(417);n.n(r).a},513:function(t,e,n){(e=n(16)(!1)).push([t.i,"#leafletmap{width:100%;height:100%}#leafletmap .leaflet-control-container .leaflet-bottom.leaflet-right{display:none}",""]),t.exports=e},514:function(t,e,n){"use strict";var r=n(418);n.n(r).a},515:function(t,e,n){(e=n(16)(!1)).push([t.i,".mapfield[data-v-6e9e4ec8]{height:100%;width:100%}.bottom-menu[data-v-6e9e4ec8]{background-color:#272727;height:10%;position:absolute;z-index:401;bottom:0;width:100%;opacity:.9}",""]),t.exports=e},526:function(t,e,n){"use strict";n.r(e);n(93),n(24),n(19),n(18),n(68);var r=n(51),o=(n(507),n(73)),l=n(1),c=n.n(l);function h(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var f={name:"LeafletMap",props:{rerenderkey:Number},data:function(){return{watchID:-1,userLocation:{lat:48.424267,lng:9.955192},options:{enableHighAccuracy:!0,timeout:5e3,maximumAge:0},triggerRadiusInM:20}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(o.c)("npcLocation",["allLocations","activeAndUnvisited"])),mounted:function(){this.watchID=navigator.geolocation.watchPosition(this.success,this.error,this.options)},watch:{userLocation:{handler:function(t,e){this.checkDistanceToAllNpc(t,this.activeAndUnvisited)},deep:!0}},methods:{success:function(t){var e=t.coords;this.userLocation.lat=e.latitude,this.userLocation.lng=e.longitude},error:function(t){console.warn("ERROR("+t.code+"): "+t.message)},getLink:function(t){return{path:"/content/",query:{chapter:t.characterID,scene:0,direct:!0}}},openLink:function(t){if(!t.haveVisit){var e=this.getLink(t);this.$router.push(e)}},getMarker:function(t){var e=t.haveVisit?n(510)("./".concat(t.characterID,"BW.png")):n(511)("./".concat(t.characterID,".png"));return Object(l.icon)({iconUrl:e,iconSize:[50,50],iconAnchor:[16,37]})},checkDistanceToAllNpc:function(t,e){console.log(e);for(var i=0;i<e.length;i++){var n=e[i];if(this.checkDistance(t,n))return void this.openLink(n)}},checkDistance:function(t,e){return c.a.latLng(t).distanceTo(e.latlng)<=this.triggerRadiusInM}}},d=(n(512),n(12)),w={name:"Map",layout:"Phone",components:{LeafletMap:Object(d.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("l-map",{attrs:{center:t.userLocation,zoom:13,id:"leafletmap"}},[n("l-tile-layer",{attrs:{url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png"}}),t._v(" "),n("l-marker",{attrs:{"lat-lng":t.userLocation}}),t._v(" "),t._l(t.allLocations,(function(e,r){return n("l-marker",{key:r,attrs:{icon:t.getMarker(e),"lat-lng":e.latlng},on:{click:function(n){return t.openLink(e)}}},[n("l-popup",[n("nuxt-link",{attrs:{to:t.getLink(e)}},[t._v(t._s(e.characterName)+"\n      ")])],1)],1)}))],2)}),[],!1,null,null,null).exports,Icon:n(243).a},data:function(){return{rerenderkey:0}},computed:{profIsCalling:function(){return this.$store.getters["profCall/checkifProfIsCalling"]}},mounted:function(){this.forceRerender(),this.$store.dispatch("updateProfCalling")},methods:{forceRerender:function(){this.rerenderkey+=1}}},m=(n(514),Object(d.a)(w,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mapfield"},[e("LeafletMap",{attrs:{rerenderkey:this.rerenderkey}}),this._v(" "),e("nav",{staticClass:"level bottom-menu is-mobile"},[e("p",{staticClass:"level-item has-text-centered"},[e("nuxt-link",{staticClass:"link is-info",attrs:{to:"/game/inventory"}},[e("icon",{staticStyle:{width:"48px",height:"48px"},attrs:{name:"inventory",color:"white"}})],1)],1),this._v(" "),e("p",{staticClass:"level-item has-text-centered"},[e("nuxt-link",{staticClass:"link is-info",attrs:{to:"/game/phoneCall"}},[this.profIsCalling?e("icon",{staticStyle:{height:"48px",width:"48px"},attrs:{name:"newMessage",color:"white"}}):e("icon",{staticStyle:{height:"48px",width:"48px"},attrs:{name:"message",color:"white"}})],1)],1)])],1)}),[],!1,null,"6e9e4ec8",null));e.default=m.exports}}]);